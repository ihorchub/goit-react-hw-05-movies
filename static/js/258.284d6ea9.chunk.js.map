{"version":3,"file":"static/js/258.284d6ea9.chunk.js","mappings":"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","sources":["ApiHelpers/helpers.js","Pages/MovieDetails/MovieDetails.styled.js","Pages/MovieDetails/MovieDetails.js"],"sourcesContent":["export const helpers = {\n  baseUrl: 'https://api.themoviedb.org/3/',\n  key: '499f19dfb296e7dc0de246ae16a3afd4',\n  append: 'credits,reviews',\n};\n","import styled from 'styled-components';\nimport { Link, NavLink } from 'react-router-dom';\n\nexport const BackLink = styled(Link)`\n  display: block;\n  color: black;\n  padding: 4px;\n  margin-bottom: 20px;\n  font-weight: 500;\n\n  :hover {\n    color: #9e1501;\n    background-color: #ddd;\n  }\n`;\n\nexport const FilmInfo = styled.div`\n  display: flex;\n  margin-bottom: 20px;\n`;\n\nexport const Picture = styled.img`\n  max-width: 200px;\n  height: auto;\n  margin-right: 16px;\n`;\n\nexport const Title = styled.h2`\n  color: #9e1501;\n  font-size: 24px;\n  margin-bottom: 16px;\n`;\n\nexport const MovieDescription = styled.h3`\n  color: #9e1501;\n  font-size: 20px;\n  margin-top: 16px;\n  margin-bottom: 4px;\n`;\n\nexport const Addition = styled.div`\n  background-color: #ccc;\n  padding: 12px;\n`;\n\nexport const AdditionTitle = styled.h3`\n  color: #9e1501;\n  font-size: 16px;\n  margin-bottom: 8px;\n`;\n\nexport const AdditionItem = styled.li`\n  :not(:last-child) {\n    margin-bottom: 4px;\n  }\n`;\n\nexport const AdditionLink = styled(NavLink)`\n  display: block;\n  color: black;\n  padding: 4px;\n\n  :hover {\n    color: #9e1501;\n    background-color: #eee;\n  }\n\n  &.active {\n    color: #9e1501;\n    font-weight: 500;\n  }\n`;\n","import { Outlet, useLocation, useParams } from 'react-router-dom';\nimport { useState, useEffect } from 'react';\nimport { helpers } from 'ApiHelpers/helpers';\nimport axios from 'axios';\nimport {\n  Addition,\n  AdditionItem,\n  AdditionTitle,\n  AdditionLink,\n  BackLink,\n  FilmInfo,\n  MovieDescription,\n  Picture,\n  Title,\n} from './MovieDetails.styled';\n\nconst { baseUrl, key, append } = helpers;\naxios.defaults.baseURL = baseUrl;\n\nconst MovieDetails = () => {\n  const { movieId } = useParams();\n  const location = useLocation();\n  const [poster, setPoster] = useState('');\n  const [title, setTitle] = useState('');\n  const [overview, setOverview] = useState('');\n  const [genres, setGenres] = useState([]);\n  const [score, setScore] = useState(null);\n  const [cast, setCast] = useState([]);\n  const [reviews, setReviews] = useState([]);\n\n  useEffect(() => {\n    const controller = new AbortController();\n\n    async function getMovie() {\n      try {\n        const response = await axios.get(\n          `/movie/${movieId}?api_key=${key}&append_to_response=${append}`,\n          {\n            signal: controller.signal,\n          }\n        );\n        const movieInfo = response.data;\n\n        setPoster(`https://image.tmdb.org/t/p/w500${movieInfo.poster_path}`);\n        setTitle(movieInfo.title);\n        setOverview(movieInfo.overview);\n        setGenres(movieInfo.genres);\n        setScore(movieInfo.vote_average);\n        setCast(movieInfo.credits.cast);\n        setReviews(movieInfo.reviews.results);\n      } catch (error) {\n        console.log(error);\n      }\n    }\n    getMovie();\n\n    return () => {\n      controller.abort();\n    };\n  }, [movieId]);\n\n  const getGenres = () => genres.map(item => item.name).join(', ');\n\n  const backLinkHref = location.state?.from ?? '/';\n\n  return (\n    <>\n      <BackLink to={backLinkHref}>Go back</BackLink>\n      <FilmInfo>\n        <Picture src={poster} alt={`poster by ${title} movie`} />\n        <div>\n          <Title>{title}</Title>\n          <p>User Score: {Number.parseInt(score * 10)}%</p>\n          <MovieDescription>Overview</MovieDescription>\n          <p>{overview}</p>\n          <MovieDescription>Genres</MovieDescription>\n          <p>{getGenres()}</p>\n        </div>\n      </FilmInfo>\n\n      <Addition>\n        <AdditionTitle>Additional information</AdditionTitle>\n        <ul>\n          <AdditionItem>\n            <AdditionLink\n              to=\"cast\"\n              state={{\n                from: backLinkHref,\n                cast,\n              }}\n            >\n              Cast\n            </AdditionLink>\n          </AdditionItem>\n          <AdditionItem>\n            <AdditionLink\n              to=\"reviews\"\n              state={{\n                from: backLinkHref,\n                reviews,\n              }}\n            >\n              Reviews\n            </AdditionLink>\n          </AdditionItem>\n        </ul>\n      </Addition>\n      <Outlet />\n    </>\n  );\n};\n\nexport default MovieDetails;\n"],"names":["helpers","baseUrl","key","append","BackLink","styled","Link","FilmInfo","Picture","Title","MovieDescription","Addition","AdditionTitle","AdditionItem","AdditionLink","NavLink","axios","movieId","useParams","location","useLocation","useState","poster","setPoster","title","setTitle","overview","setOverview","genres","setGenres","score","setScore","cast","setCast","reviews","setReviews","useEffect","controller","AbortController","signal","response","movieInfo","data","poster_path","vote_average","credits","results","console","log","getMovie","abort","backLinkHref","state","from","to","src","alt","Number","parseInt","map","item","name","join"],"sourceRoot":""}