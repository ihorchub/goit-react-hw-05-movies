{"version":3,"file":"static/js/866.714b23b6.chunk.js","mappings":"sKAAO,IAAMA,EAAU,CACrBC,QAAS,gCACTC,IAAK,mCACLC,OAAQ,kB,iLCAGC,EAASC,EAAAA,GAAAA,OAAH,2HAUNC,EAAQD,EAAAA,GAAAA,GAAH,4GAOLE,EAAWF,EAAAA,GAAAA,GAAH,6EAMRG,GAAWH,EAAAA,EAAAA,IAAOI,EAAAA,GAAPJ,CAAH,kJ,SCpBbJ,EAAiBD,EAAAA,EAAAA,QAARE,EAAQF,EAAAA,EAAAA,IACzBU,EAAAA,EAAAA,SAAAA,QAAyBT,EAEzB,IAmEA,EAnEe,WAAO,IAAD,EACnB,GAA4BU,EAAAA,EAAAA,UAAS,IAArC,eAAOC,EAAP,KAAeC,EAAf,KACA,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACMC,EAAK,UAAGF,EAAaG,IAAI,gBAApB,QAAgC,GACrCC,GAAWC,EAAAA,EAAAA,OAEjBC,EAAAA,EAAAA,YAAU,WACR,GAAc,KAAVJ,EAAJ,CAEA,IAAMK,EAAa,IAAIC,gBAiBvB,OApBc,mCAkBdC,GAEO,WACLF,EAAWG,OACZ,CArBuB,CADV,wCAKd,6GAE2Bf,EAAAA,EAAAA,IAAA,gCACIR,EADJ,kBACiBe,GACtC,CACES,OAAQJ,EAAWI,SAL3B,OAEUC,EAFV,OAQId,EAAUc,EAASC,KAAKC,SAR5B,gDAUIC,QAAQC,IAAR,MAVJ,0DALc,sBAuBf,GAAE,CAACd,IAcJ,OACE,iCACE,kBAAMe,SAdW,SAAAC,GACnBA,EAAEC,iBACF,IAAMC,EAASF,EAAEG,OAAOC,SAASpB,MAAMqB,MAEjB,KAAlBH,EAAOI,SAIXvB,EAAgB,CAAEC,MAAOkB,EAAOI,SAChCN,EAAEG,OAAOI,QACV,EAIG,WACE,kBAAOC,KAAK,OAAOC,KAAK,WACxB,SAACtC,EAAD,CAAQqC,KAAK,SAAb,uBAED7B,EAAO+B,OAAS,IACf,4BACE,SAACrC,EAAD,uCAA8BW,EAA9B,QACA,wBACGL,EAAOgC,KAAI,gBAAGC,EAAH,EAAGA,GAAIC,EAAP,EAAOA,eAAP,OACV,SAACvC,EAAD,WACE,SAACC,EAAD,CAAUuC,GAAE,kBAAaF,GAAMG,MAAO,CAAEC,KAAM9B,GAA9C,SACG2B,KAFUD,EADL,WAYvB,C","sources":["ApiHelpers/helpers.js","Pages/Movies/Movies.styled.js","Pages/Movies/Movies.js"],"sourcesContent":["export const helpers = {\n  baseUrl: 'https://api.themoviedb.org/3/',\n  key: '499f19dfb296e7dc0de246ae16a3afd4',\n  append: 'credits,reviews',\n};\n","import styled from 'styled-components';\nimport { Link } from 'react-router-dom';\n\nexport const Button = styled.button`\n  color: black;\n  font-weight: 500;\n  margin-left: 4px;\n\n  :hover {\n    color: #9e1501;\n  }\n`;\n\nexport const Title = styled.h1`\n  color: #9e1501;\n  font-size: 28px;\n  margin-top: 16px;\n  margin-bottom: 16px;\n`;\n\nexport const FilmItem = styled.li`\n  :not(:last-child) {\n    margin-bottom: 4px;\n  }\n`;\n\nexport const FilmLink = styled(Link)`\n  display: block;\n  color: black;\n  padding: 4px;\n\n  :hover {\n    color: #9e1501;\n    background-color: #ddd;\n  }\n`;\n","import { useSearchParams, useLocation } from 'react-router-dom';\nimport { useState, useEffect } from 'react';\nimport { helpers } from 'ApiHelpers/helpers';\nimport axios from 'axios';\nimport { Button, FilmItem, Title, FilmLink } from './Movies.styled';\n\nconst { baseUrl, key } = helpers;\naxios.defaults.baseURL = baseUrl;\n\nconst Movies = () => {\n  const [movies, setMovies] = useState([]);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const query = searchParams.get('query') ?? '';\n  const location = useLocation();\n\n  useEffect(() => {\n    if (query === '') return;\n\n    const controller = new AbortController();\n\n    async function getMovies() {\n      try {\n        const response = await axios.get(\n          `/search/movie?api_key=${key}&query=${query}`,\n          {\n            signal: controller.signal,\n          }\n        );\n        setMovies(response.data.results);\n      } catch (error) {\n        console.log(error);\n      }\n    }\n    getMovies();\n\n    return () => {\n      controller.abort();\n    };\n  }, [query]);\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    const search = e.target.elements.query.value;\n\n    if (search.trim() === '') {\n      return;\n    }\n\n    setSearchParams({ query: search.trim() });\n    e.target.reset();\n  };\n\n  return (\n    <>\n      <form onSubmit={handleSubmit}>\n        <input type=\"text\" name=\"query\" />\n        <Button type=\"submit\">Search</Button>\n      </form>\n      {movies.length > 0 && (\n        <div>\n          <Title>{`Result on request \"${query}\"`}</Title>\n          <ul>\n            {movies.map(({ id, original_title }) => (\n              <FilmItem key={id}>\n                <FilmLink to={`/movies/${id}`} state={{ from: location }}>\n                  {original_title}\n                </FilmLink>\n              </FilmItem>\n            ))}\n          </ul>\n        </div>\n      )}\n    </>\n  );\n};\n\nexport default Movies;\n"],"names":["helpers","baseUrl","key","append","Button","styled","Title","FilmItem","FilmLink","Link","axios","useState","movies","setMovies","useSearchParams","searchParams","setSearchParams","query","get","location","useLocation","useEffect","controller","AbortController","getMovies","abort","signal","response","data","results","console","log","onSubmit","e","preventDefault","search","target","elements","value","trim","reset","type","name","length","map","id","original_title","to","state","from"],"sourceRoot":""}