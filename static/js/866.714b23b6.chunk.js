"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[866],{512:function(e,n,t){t.d(n,{B:function(){return r}});var r={baseUrl:"https://api.themoviedb.org/3/",key:"499f19dfb296e7dc0de246ae16a3afd4",append:"credits,reviews"}},866:function(e,n,t){t.r(n),t.d(n,{default:function(){return q}});var r,a,o,c,i=t(861),l=t(439),s=t(757),u=t.n(s),p=t(87),d=t(689),f=t(791),h=t(512),m=t(263),v=t(168),b=t(444),x=b.ZP.button(r||(r=(0,v.Z)(["\n  color: black;\n  font-weight: 500;\n  margin-left: 4px;\n\n  :hover {\n    color: #9e1501;\n  }\n"]))),g=b.ZP.h1(a||(a=(0,v.Z)(["\n  color: #9e1501;\n  font-size: 28px;\n  margin-top: 16px;\n  margin-bottom: 16px;\n"]))),k=b.ZP.li(o||(o=(0,v.Z)(["\n  :not(:last-child) {\n    margin-bottom: 4px;\n  }\n"]))),y=(0,b.ZP)(p.rU)(c||(c=(0,v.Z)(["\n  display: block;\n  color: black;\n  padding: 4px;\n\n  :hover {\n    color: #9e1501;\n    background-color: #ddd;\n  }\n"]))),Z=t(184),j=h.B.baseUrl,w=h.B.key;m.Z.defaults.baseURL=j;var q=function(){var e,n=(0,f.useState)([]),t=(0,l.Z)(n,2),r=t[0],a=t[1],o=(0,p.lr)(),c=(0,l.Z)(o,2),s=c[0],h=c[1],v=null!==(e=s.get("query"))&&void 0!==e?e:"",b=(0,d.TH)();(0,f.useEffect)((function(){if(""!==v){var e=new AbortController;return function(){n.apply(this,arguments)}(),function(){e.abort()}}function n(){return(n=(0,i.Z)(u().mark((function n(){var t;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,m.Z.get("/search/movie?api_key=".concat(w,"&query=").concat(v),{signal:e.signal});case 3:t=n.sent,a(t.data.results),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.log(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})))).apply(this,arguments)}}),[v]);return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsxs)("form",{onSubmit:function(e){e.preventDefault();var n=e.target.elements.query.value;""!==n.trim()&&(h({query:n.trim()}),e.target.reset())},children:[(0,Z.jsx)("input",{type:"text",name:"query"}),(0,Z.jsx)(x,{type:"submit",children:"Search"})]}),r.length>0&&(0,Z.jsxs)("div",{children:[(0,Z.jsx)(g,{children:'Result on request "'.concat(v,'"')}),(0,Z.jsx)("ul",{children:r.map((function(e){var n=e.id,t=e.original_title;return(0,Z.jsx)(k,{children:(0,Z.jsx)(y,{to:"/movies/".concat(n),state:{from:b},children:t})},n)}))})]})]})}}}]);
//# sourceMappingURL=866.714b23b6.chunk.js.map